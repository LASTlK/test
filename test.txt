import { useState } from "react";
import { Link, useLocation } from "react-router-dom";

// Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸
import HomeIcon from "../assets/icon/home-icon.svg";
import NewsIcon from "../assets/icon/news-icon.svg";
import BrandsIcon from "../assets/icon/brands-icon.svg";
import ProductsIcon from "../assets/icon/products-icon.svg";
import UsersIcon from "../assets/icon/users-icon.svg";
import CatalogIcon from "../assets/icon/catalog-icon.svg";

const Sidebar = () => {
  const [isHovered, setIsHovered] = useState(false);
  const location = useLocation();

  const menuItems = [
    { path: "/", label: "Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°", icon: HomeIcon },
    { path: "/news", label: "ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸", icon: NewsIcon },
    { path: "/brands", label: "Ğ‘Ñ€ĞµĞ½Ğ´Ñ‹", icon: BrandsIcon },
    { path: "/products", label: "Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹", icon: ProductsIcon },
    { path: "/users", label: "ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸", icon: UsersIcon },
    { path: "/catalog", label: "Ğ”ĞµÑ€ĞµĞ²Ğ¾ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ°", icon: CatalogIcon },
  ];

  const getIconContent = (label) => {
    const iconMap = {
      'Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°': 'ğŸ ',
      'ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸': 'ğŸ“°',
      'Ğ‘Ñ€ĞµĞ½Ğ´Ñ‹': 'ğŸ·ï¸',
      'Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹': 'ğŸ“¦',
      'ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸': 'ğŸ‘¥',
      'Ğ”ĞµÑ€ĞµĞ²Ğ¾ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ°': 'ğŸŒ³'
    };
    return iconMap[label] || 'ğŸ“Œ';
  };

  return (
    <div 
      className="sidebar-custom"
      style={{
        width: isHovered ? '220px' : '60px', // â† Ñ‡ÑƒÑ‚ÑŒ ÑˆĞ¸Ñ€Ğµ
        height: 'auto',
        backgroundColor: '#F9E5C8', // â† Ñ„Ğ¾Ğ½ ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€Ğ°
        border: 'none', // â† ÑƒĞ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ñ€Ğ°Ğ¼ĞºÑƒ, ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ°
        borderRadius: '12px',
        position: 'fixed',
        left: '20px',
        top: '80px',
        zIndex: 1000,
        overflow: 'hidden',
        transition: 'all 0.3s ease',
        boxShadow: '0 2px 10px rgba(0,0,0,0.05)',
      }}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div 
        className="sidebar-menu"
        style={{ 
          padding: '12px',
        }}
      >
        {menuItems.map((item) => (
          <Link
            key={item.path}
            to={item.path}
            className="sidebar-menu-item"
            style={{
              display: 'flex',
              alignItems: 'center',
              textDecoration: 'none',
              padding: isHovered ? '10px 12px' : '10px 0',
              marginBottom: '6px',
              color: location.pathname === item.path ? '#886128' : '#886128', // â† Ñ‚ĞµĞºÑÑ‚ Ğ²ÑĞµĞ³Ğ´Ğ° #886128
              backgroundColor: location.pathname === item.path ? '#FFFAF4' : 'transparent', // â† Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°
              borderRadius: '8px',
              transition: 'all 0.2s ease',
              justifyContent: isHovered ? 'flex-start' : 'center',
              minHeight: '40px',
            }}
            onMouseEnter={(e) => {
              if (location.pathname !== item.path) {
                e.currentTarget.style.backgroundColor = '#FFF4E5';
              }
            }}
            onMouseLeave={(e) => {
              if (location.pathname !== item.path) {
                e.currentTarget.style.backgroundColor = 'transparent';
              }
            }}
          >
            <div style={{
              width: '28px',
              height: '28px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              marginRight: isHovered ? '12px' : '0',
              flexShrink: 0,
              transition: 'margin-right 0.3s ease',
              backgroundColor: location.pathname === item.path ? '#FFECB3' : '#FFF4E5',
              borderRadius: '6px',
            }}>
              {item.icon ? (
                <img 
                  src={item.icon} 
                  alt={item.label}
                  style={{ 
                    width: '18px', 
                    height: '18px',
                  }}
                />
              ) : (
                <span style={{ fontSize: '16px' }}>
                  {getIconContent(item.label)}
                </span>
              )}
            </div>
            
            {isHovered && (
              <span style={{
                fontSize: '15px', // â† Ñ‡ÑƒÑ‚ÑŒ ĞºÑ€ÑƒĞ¿Ğ½ĞµĞµ
                fontWeight: location.pathname === item.path ? '600' : '500',
                opacity: 1,
                whiteSpace: 'nowrap',
                color: '#886128', // â† Ñ†Ğ²ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ°
              }}>
                {item.label}
              </span>
            )}
          </Link>
        ))}
      </div>
    </div>
  );
};

export default Sidebar;